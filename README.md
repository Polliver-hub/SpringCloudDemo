# Демо проект по тулзам представленным в SpringCloud а так же некоторым паттернам микросервисной архитектуры. 

## Общая схема:
![Схема](img/schema.png)

## Элементы и краткое описание:
1. Api-Gateway. Коробочное решение данного паттерна от Spring, использующее под копотом WebFlux, Netty и неблокирующие сокеты. В моем случае, в апи гейтвее добавляем заголовок всем входящим запросам для последующей трассировки.
2. Eureka-server. Справочник адресов, локальный днс для распределенной системы. В моем случае, предоставляем Api-Gateway список "живых" сервисов для возможного обращения к ним через гейтвей.
3. Config-server. Централизованно предоставляет настройки для сервисов, а также имеет прикольную фишку для динамической смены конфига.
4. Бизнес сервисы(client service,client-info(обогащает client), order service,который запускаем в 2 инстанса для демонстрации балансировки нагрузки, которую предоставляет Api-Gateway из коробки).
5. Так же подключены метрики для мониторинга через prometheus/grafana и zipkin для трассировки. См. докер-компоуз файл.

## Паттерны отказоустойчивости примененные в данном проекте(используются в сервисе service-client):
1. RateLimiter - ограничитель по количеству запросов в сторону внешнего сервиса.
2. CircuitBreaker - предохранитель, с его помощью можно выделить определенное время на выполнения блокирующего запроса в другой сервис.
